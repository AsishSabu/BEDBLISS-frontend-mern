import{A as z,r as l,u as G,j as e,O as K}from"./index-BbR1353G.js";import{F as Q,a as J,b as d,E as a}from"./formik.esm-Dx4FV9u3.js";import{h as X}from"./validation-CWF71DUy.js";import{u as Y,r as O}from"./Pagination-BytGtE1z.js";import{F as x}from"./StarComponent-BA6BT1Io.js";import{a as R,s as M}from"./hoist-non-react-statics.cjs-BToLjH0z.js";import{U as f,P as j}from"./OwnerRouter-CgAnVkHA.js";import"./index.esm-Dmy6JEbm.js";import"./tslib.es6-DuO2G4rp.js";import"./iconBase-CAALtT_3.js";import"./imageUpload-B4lxFXOD.js";import"./Notifications-DoaGR5xu.js";import"./clsx-B-dksMZM.js";import"./floating-ui.react-dom-dlw1H6EG.js";import"./index-CgahC8kA.js";import"./UserProfile-BCiwo0g9.js";import"./axiosService-Dv1iEGWQ.js";const Z=n=>R.get(n).then(b=>b.data),he=()=>{const{data:n}=Y(`${z}/stayTypes`,Z),b=["Swimming Pool","Gym","Spa","Restaurant","Parking","Free parking on premises","Kitchen","Washing Machine","Air Conditioning","BBQ grill","Hot tub","Beach Access"],[N,_]=l.useState([]),[c,k]=l.useState([]),[i,w]=l.useState([]),[m,v]=l.useState([]),[o,S]=l.useState([]),[u,A]=l.useState(""),[D,g]=l.useState(!1),[H,p]=l.useState(!1),[E,h]=l.useState(!1),[P,y]=l.useState(!1),C=G();l.useEffect(()=>{n&&_(n.data)},[n]),console.log(N,"types");const T=()=>{u.trim()!==""&&(S([...o,u]),A(""))},U=t=>{S(o.filter((s,r)=>r!==t))},F=t=>{console.log(t),k(t),g(!1)},B=t=>{console.log(t),w(t),p(!1)},q=t=>{v(t),h(!1)},L=t=>{k(s=>s.filter(r=>r!==t))},W=()=>{w([])},$=()=>{v([])},V=async t=>{y(!0);const s={name:t.name,destination:t.destination,address:{streetAddress:t.address.streetAddress,landMark:t.address.landMark,district:t.address.district,city:t.address.city,pincode:t.address.pincode,country:t.address.country},stayType:t.stayType,description:t.description,amenities:t.amenities,propertyRules:o,imageUrls:c,hotelDocument:i[0],ownerPhoto:m[0]};console.log(s,"valuesssss"),await R.post(`${K}/addhotel`,s,{headers:{authorization:`Bearer ${localStorage.getItem("access_token")}`}}).then(({data:r})=>{y(!1),M(r.message),C("/owner/hotels")}).catch(({response:r})=>{var I;y(!1),M((I=r==null?void 0:r.data)==null?void 0:I.message,"error")})};return e.jsx(e.Fragment,{children:e.jsx(Q,{initialValues:{name:"",stayType:"",destination:"",address:{streetAddress:"",landMark:"",district:"",city:"",pincode:"",country:""},description:"",amenities:[],reservationType:""},validationSchema:X,validate:t=>{console.log(t),console.log(o),console.log(c,"images"),console.log(i,"hotel"),console.log(m,"owner");const s={};return o.length<2&&(s.propertyRules="At least two rules are required"),c.length<3?s.images="At least 3 images are required":c.length>5&&(s.images="No more than 5 images are allowed"),i.length<1&&(s.hotelDocument="hotel documetation is required"),m.length<1&&(s.ownerId="ownerId is required"),console.log(s),s},onSubmit:V,children:({values:t})=>e.jsx("div",{className:" py-7 md:px-14 flex justify-center",children:e.jsxs("div",{className:"px-4 py-7 md:px-14 rounded-3xl shadow-lg border border-spacing-y-9  w-8/12   items-center ",children:[e.jsx("h1",{className:"p-6 text-2xl md:text-3xl font-bold mb-4 text-center",children:"Add Hotel"}),e.jsx(J,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-lg font-bold mb-2",children:"Name:"}),e.jsx(d,{type:"text",name:"name",className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring",placeholder:"Name"}),e.jsx("span",{className:"text-Strawberry_red text-sm",children:e.jsx(a,{name:"name"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-lg font-bold mb-2",children:"destination:"}),e.jsx(d,{type:"text",name:"destination",className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring",placeholder:"Enter the location"}),e.jsx("span",{className:"text-Strawberry_red text-sm",children:e.jsx(a,{name:"destination"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-lg font-bold mb-2",children:"Type:"}),e.jsxs(d,{as:"select",name:"stayType",className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring",children:[e.jsx("option",{value:"",label:"Select stay type"}),N.map((s,r)=>e.jsx("option",{value:s==null?void 0:s._id,children:s.name},r))]}),e.jsx("span",{className:"text-Strawberry_red text-sm",children:e.jsx(a,{name:"stayType"})})]}),e.jsxs("div",{className:"col-span-2 bg-blue-gray-50 py-5 rounded-lg",children:[e.jsx("p",{className:"px-5  text-xl",children:"Address"}),e.jsxs("div",{className:" grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2 px-10",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-lg font-bold mb-2",children:"Street Address:"}),e.jsx(d,{type:"text",name:"address.streetAddress",className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring",placeholder:"Enter the street address"}),e.jsx("span",{className:"text-Strawberry_red text-sm",children:e.jsx(a,{name:"address.streetAddress"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-lg font-bold mb-2",children:"Land Mark:"}),e.jsx(d,{type:"text",name:"address.landMark",className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring",placeholder:"Enter the location"}),e.jsx("span",{className:"text-Strawberry_red text-sm",children:e.jsx(a,{name:"address.landMark"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-lg font-bold mb-2",children:"District:"}),e.jsx(d,{type:"text",name:"address.district",className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring",placeholder:"Enter the location"}),e.jsx("span",{className:"text-Strawberry_red text-sm",children:e.jsx(a,{name:"address.district"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-lg font-bold mb-2",children:"City:"}),e.jsx(d,{type:"text",name:"address.city",className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring",placeholder:"Enter the location"}),e.jsx("span",{className:"text-Strawberry_red text-sm",children:e.jsx(a,{name:"address.city"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-lg font-bold mb-2",children:"Pincode:"}),e.jsx(d,{type:"text",name:"address.pincode",className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring",placeholder:"Enter the location"}),e.jsx("span",{className:"text-Strawberry_red text-sm",children:e.jsx(a,{name:"address.pincode"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-lg font-bold mb-2",children:"Country:"}),e.jsx(d,{type:"text",name:"address.country",className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring",placeholder:"Enter the location"}),e.jsx("span",{className:"text-Strawberry_red text-sm",children:e.jsx(a,{name:"address.country"})})]})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"text-gray-700 text-lg font-bold mb-2",children:"Amenities:"}),e.jsx("div",{className:"mt-2 grid grid-cols-1 gap-2 sm:grid-cols-2",children:b.map((s,r)=>e.jsxs("label",{className:"flex items-center text-gray-700",children:[e.jsx(d,{type:"checkbox",name:"amenities",value:s,checked:t.amenities.includes(s),className:"form-checkbox h-5 w-5 text-black"}),e.jsx("span",{className:"ml-2",children:s})]},r))}),e.jsx("span",{className:"text-red-500 text-sm",children:e.jsx(a,{name:"amenities"})})]}),e.jsxs("div",{className:"col-span-2 grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2 px-5",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"text-gray-700 text-lg font-bold mb-2",children:"Description:"}),e.jsx(d,{as:"textarea",name:"description",rows:5,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring",placeholder:"Description"}),e.jsx("span",{className:"text-red-500 text-sm",children:e.jsx(a,{name:"description"})})]}),e.jsxs("div",{className:"col-span-2 ",children:[e.jsx("label",{className:"text-gray-700 text-lg font-bold",children:"Property Rules:"}),e.jsx("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2 py-3",children:o.map((s,r)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-gray-700",children:s}),e.jsx("button",{title:"button",type:"button",onClick:()=>U(r),className:"ml-2 text-red-500 hover:text-red-700 focus:outline-none",children:e.jsx(x,{})})]},r))}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("input",{type:"text",value:u,onChange:s=>A(s.target.value),placeholder:"Add new rule",className:"block w-full px-4   text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring"}),e.jsx(O.Button,{onClick:T,variant:"outlined",className:"mx-2",children:"Add"})]}),e.jsx("span",{className:"text-red-500 text-sm",children:e.jsx(a,{name:"propertyRules"})})]}),e.jsx("div",{className:"col-span-2"}),e.jsxs("div",{className:"flex flex-col mt-4 col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hotel Images"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md cursor-pointer",children:e.jsx(f,{text:"Upload Photos",onclick:()=>g(!0)})}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mt-4",children:c.map((s,r)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s,alt:"Hotel",className:"h-40 w-full object-cover rounded-md"}),e.jsx("button",{title:"button",className:"absolute top-2 right-2 bg-white p-1 rounded-full text-red-500",onClick:()=>L(s),children:e.jsx(x,{})})]},r))}),e.jsx(j,{isOpen:D,onClose:()=>g(!1),onUpload:F,file:"5"})]}),e.jsx("span",{className:"text-Strawberry_red text-sm",children:e.jsx(a,{name:"images"})}),e.jsxs("div",{className:"flex flex-col mt-4 col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Add Hotel Document"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md cursor-pointer",children:e.jsx(f,{text:"Upload Hotel Document",onclick:()=>p(!0)})}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mt-4",children:i.map((s,r)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s,alt:"Hotel",className:"h-40 w-full object-cover rounded-md"}),e.jsx("button",{title:"btn",className:"absolute top-2 right-2 bg-white p-1 rounded-full text-red-500",onClick:()=>W(),children:e.jsx(x,{})})]},r))}),e.jsx(j,{isOpen:H,onClose:()=>p(!1),onUpload:B,file:"1"})]}),e.jsx("span",{className:"text-Strawberry_red text-sm",children:e.jsx(a,{name:"hotelDocument"})}),e.jsxs("div",{className:"flex flex-col mt-4 col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Add owner Id"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md cursor-pointer",children:e.jsx(f,{text:"Upload Owner Document",onclick:()=>h(!0)})}),e.jsx(a,{name:"images",component:"div",className:"text-red-500 text-sm mt-1"}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mt-4",children:m.map((s,r)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s,alt:"Hotel",className:"h-40 w-full object-cover rounded-md"}),e.jsx("button",{title:"button",className:"absolute top-2 right-2 bg-white p-1 rounded-full text-red-500",onClick:()=>$(),children:e.jsx(x,{})})]},r))}),e.jsx(j,{isOpen:E,onClose:()=>h(!1),onUpload:q,file:"1"})]}),e.jsx("span",{className:"text-red-500 text-sm mt-1",children:e.jsx(a,{name:"ownerId"})})]}),e.jsx("div",{className:"flex justify-center col-span-2 p-4",children:e.jsx(O.Button,{type:"submit",variant:"outlined",loading:P,children:"Submit"})})]})})]})})})})};export{he as default};
