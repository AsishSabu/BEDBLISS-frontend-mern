import{s as C,r as a,b as g,j as e}from"./index-C0JB0cT-.js";import{F as f,f as k,d as S,a as O}from"./default-DZ6iiexP.js";import{q as b}from"./Notifications-BtANmxaB.js";const A=({handleSearch:j})=>{const N=C(s=>s.searchingSlice),[i,x]=a.useState(!1),[u,m]=a.useState(!1),[l,p]=a.useState({startDate:new Date,endDate:g(new Date,1)}),[t,D]=a.useState({adult:1,children:0,room:1}),[y,v]=a.useState(N.destination),c=a.useRef(null),o=a.useRef(null),n=(s,r)=>{D(d=>({...d,[s]:r==="i"?t[s]+1:t[s]-1}))},w=s=>{const{startDate:r,endDate:d}=s.selection;d<=r?p({startDate:r,endDate:g(r,1)}):p({startDate:r,endDate:d})},h=s=>{c.current&&!c.current.contains(s.target)&&x(!1),o.current&&!o.current.contains(s.target)&&m(!1)};return a.useEffect(()=>(document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}),[]),e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-Alabaster border-blue-200 border-2 shadow-xl rounded-lg -mt-8 mx-auto max-w-fit",children:[e.jsx("input",{type:"text",placeholder:"Enter your destination",value:y,onChange:s=>v(s.target.value),className:"px-2 py-1 border border-gray-300 rounded-md"}),e.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer relative",ref:c,children:[e.jsx(f,{icon:k,className:"text-gray-500"}),e.jsx("span",{onClick:()=>x(!i),className:"text-gray-700",children:`${b(l.startDate,"MM/dd/yyyy")} to ${b(l.endDate,"MM/dd/yyyy")}`}),i&&e.jsx("div",{className:"absolute top-12 left-0 z-50 mt-2",children:e.jsx(S.DateRange,{editableDateInputs:!0,onChange:w,moveRangeOnFirstSelection:!1,ranges:[{startDate:l.startDate,endDate:l.endDate,key:"selection"}],className:"shadow-md rounded-lg",minDate:new Date})})]}),e.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer relative",ref:o,children:[e.jsx(f,{icon:O,className:"text-gray-500"}),e.jsx("span",{onClick:()=>m(!u),className:"text-gray-700",children:`${t.adult} adult · ${t.children} children · ${t.room} room`}),u&&e.jsxs("div",{className:"absolute top-12 left-0 w-48 bg-white p-4 rounded-lg shadow-md z-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-700",children:"Adult"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{disabled:t.adult<=1,className:"text-gray-700 bg-gray-200 rounded-full px-2 py-1 disabled:opacity-50",onClick:()=>n("adult","d"),children:"-"}),e.jsx("span",{className:"text-gray-700",children:t.adult}),e.jsx("button",{className:"text-gray-700 bg-gray-200 rounded-full px-2 py-1",onClick:()=>n("adult","i"),children:"+"})]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-700",children:"Children"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{disabled:t.children<=0,className:"text-gray-700 bg-gray-200 rounded-full px-2 py-1 disabled:opacity-50",onClick:()=>n("children","d"),children:"-"}),e.jsx("span",{className:"text-gray-700",children:t.children}),e.jsx("button",{className:"text-gray-700 bg-gray-200 rounded-full px-2 py-1",onClick:()=>n("children","i"),children:"+"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-700",children:"Room"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{disabled:t.room<=1,className:"text-gray-700 bg-gray-200 rounded-full px-2 py-1 disabled:opacity-50",onClick:()=>n("room","d"),children:"-"}),e.jsx("span",{className:"text-gray-700",children:t.room}),e.jsx("button",{className:"text-gray-700 bg-gray-200 rounded-full px-2 py-1",onClick:()=>n("room","i"),children:"+"})]})]})]})]}),e.jsx("button",{className:"bg-blue-600 text-white font-bold rounded-lg px-4 py-2",onClick:()=>j(y,t,l),children:"Search"})]})};export{A as S};
