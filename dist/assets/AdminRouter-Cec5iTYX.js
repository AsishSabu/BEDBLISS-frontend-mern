const __vite__fileDeps=["assets/Users-D89BEXvG.js","assets/index-C0JB0cT-.js","assets/index-DLTz6Mb1.css","assets/ToggleSwitch-BZI4oU_G.js","assets/index-Umk_CdzM.js","assets/index.esm-B0Pxq1wK.js","assets/floating-ui.react-dom-BqiJ1lPF.js","assets/publicRoutes-CA9xummK.js","assets/index-Cd8CbeYN.js","assets/hoist-non-react-statics.cjs-CxxjioJb.js","assets/NotFoundPage-Q7huf7-_.js","assets/iconBase-53EnAEkU.js","assets/axiosService-BsYarKI0.js","assets/index-DUeupfZa.js","assets/index-CYkqFElQ.js","assets/tslib.es6-DuO2G4rp.js","assets/formik.esm-DlztVDdY.js","assets/index.esm-BKJcP99K.js","assets/Hotels-BDH2s-Z5.js","assets/Login-Br43UEzE.js","assets/validation-CzmKO_H6.js","assets/localStorage-jfIHgayU.js","assets/Layout-C2mmwPLC.js","assets/DashBoard-DIqx7bJw.js","assets/clsx-B-dksMZM.js","assets/react-apexcharts.min-Dl-I62RE.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{U as D,A as j,r as o,j as e,l as $,_ as C,R as S,a as p}from"./index-C0JB0cT-.js";import{P as A}from"./publicRoutes-CA9xummK.js";import{u as k,c as I}from"./index-Cd8CbeYN.js";import O from"./NotFoundPage-Q7huf7-_.js";import{a as b,s as f}from"./hoist-non-react-statics.cjs-CxxjioJb.js";import{G as L}from"./iconBase-53EnAEkU.js";import{a as P}from"./axiosService-BsYarKI0.js";import{T as a}from"./ToggleSwitch-BZI4oU_G.js";import{r as N}from"./index-DUeupfZa.js";import{F as E,a as B,b as T,E as M}from"./formik.esm-DlztVDdY.js";import{c as U,a as F}from"./index.esm-BKJcP99K.js";const V="/assets/rejected-BpOrANaL.svg",z=t=>b.get(t).then(s=>s.data),q=t=>{const{data:s,error:r,mutate:n}=k(`${D}/hotelDetails/${t}`,z);return{hotel:(s==null?void 0:s.Hotel)||null,loading:!r&&!s,error:r,verifyHotel:async()=>{try{const x=await b.patch(`${j}/verify_hotel/${t}`);f(x.data.message,"success"),n()}catch(x){console.error(x)}},RejectHotel:async x=>{try{const h=await b.patch(`${j}/reject_hotel/${t}`,{reason:x});f(h.data.message,"success"),n()}catch(h){console.error(h)}}}};function G(t){return L({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.03 9.78a.75.75 0 0 0-1.06-1.06l-5.47 5.47-2.47-2.47a.75.75 0 0 0-1.06 1.06l3 3a.75.75 0 0 0 1.06 0l6-6Z"},child:[]},{tag:"path",attr:{d:"m14.136 1.2 1.375 1.01c.274.201.593.333.929.384l1.687.259a3.61 3.61 0 0 1 3.02 3.021l.259 1.686c.051.336.183.655.384.929l1.01 1.375a3.61 3.61 0 0 1 0 4.272l-1.01 1.375a2.106 2.106 0 0 0-.384.929l-.259 1.687a3.61 3.61 0 0 1-3.021 3.02l-1.686.259a2.106 2.106 0 0 0-.929.384l-1.375 1.01a3.61 3.61 0 0 1-4.272 0l-1.375-1.01a2.106 2.106 0 0 0-.929-.384l-1.687-.259a3.61 3.61 0 0 1-3.02-3.021l-.259-1.686a2.117 2.117 0 0 0-.384-.929L1.2 14.136a3.61 3.61 0 0 1 0-4.272l1.01-1.375c.201-.274.333-.593.384-.929l.259-1.687a3.61 3.61 0 0 1 3.021-3.02l1.686-.259c.336-.051.655-.183.929-.384L9.864 1.2a3.61 3.61 0 0 1 4.272 0Zm-3.384 1.209-1.375 1.01a3.614 3.614 0 0 1-1.59.658l-1.686.258a2.111 2.111 0 0 0-1.766 1.766l-.258 1.686a3.61 3.61 0 0 1-.658 1.589l-1.01 1.376a2.11 2.11 0 0 0 0 2.496l1.01 1.375c.344.469.57 1.015.658 1.59l.258 1.686c.14.911.855 1.626 1.766 1.766l1.686.258a3.61 3.61 0 0 1 1.589.658l1.376 1.01a2.11 2.11 0 0 0 2.496 0l1.375-1.01a3.613 3.613 0 0 1 1.59-.657l1.686-.26a2.11 2.11 0 0 0 1.766-1.765l.258-1.686a3.61 3.61 0 0 1 .658-1.589l1.01-1.376a2.11 2.11 0 0 0 0-2.496l-1.01-1.375a3.613 3.613 0 0 1-.657-1.59l-.26-1.686a2.11 2.11 0 0 0-1.765-1.766l-1.686-.258a3.61 3.61 0 0 1-1.589-.658l-1.376-1.01a2.11 2.11 0 0 0-2.496 0Z"},child:[]}]})(t)}const Z=({isOpen:t,onClose:s,onConfirm:r})=>{const[n,c]=o.useState(""),m=()=>{r(n),s()};return t?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Cancel Booking"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reason for cancellation"}),e.jsxs("select",{title:"reason",value:n,onChange:l=>c(l.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[e.jsx("option",{value:"",disabled:!0,children:"Select a reason"}),e.jsx("option",{value:"hotel document is not valid",children:"hotel document is not valid"}),e.jsx("option",{value:"owner id is not valid",children:"owner id is not valid"}),e.jsx("option",{value:"both documents are not valid",children:"both documents are not valid"})]})]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{onClick:s,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded mr-2",children:"Close"}),e.jsx("button",{onClick:m,className:"bg-red-500 text-white px-4 py-2 rounded",children:"Confirm Cancellation"})]})]})}):null},W=({isOpen:t,onClose:s,imageSrc:r,altText:n})=>t?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-75",children:e.jsxs("div",{className:"bg-transparent rounded-lg overflow-hidden shadow-xl max-w-2xl w-full max-h-fit p-10",children:[e.jsx("div",{className:"flex justify-end p-2",children:e.jsx("button",{onClick:s,className:"text-red-500 text-2xl font-bold hover:text-gray-700",children:"X"})}),e.jsx("div",{className:"items-center max-h-fit overflow-auto p-4",children:e.jsx("img",{src:r,alt:n,className:"object-contain max-h-fit aspect-square"})})]})}):null,J=()=>{var _,R;const{id:t}=$();if(!t)return e.jsx("div",{children:"Invalid hotel ID"});const{hotel:s,verifyHotel:r,RejectHotel:n}=q(t),[c,m]=o.useState(!1),[l,d]=o.useState(!1),[x,h]=o.useState(""),[g,y]=o.useState(""),i=(u,v)=>{h(u),y(v),m(!0)},w=async u=>{n(u)};return e.jsxs("div",{className:"max-w-6xl mx-auto my-5 bg-white shadow-lg rounded-lg overflow-hidden grid grid-cols-2 p-5 gap-4",children:[e.jsx("h1",{className:"col-span-2 flex justify-center font-bold text-4xl text-varBlue mb-6",children:"Hotel Details"}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 grid grid-flow-col  align-middle",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Hotel Name :"}),e.jsx("p",{className:"text-base text-gray-600",children:s==null?void 0:s.name})]}),e.jsxs("div",{className:"mb-4 grid grid-flow-col  align-middle",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Destination :"}),e.jsx("p",{className:"text-base text-gray-600",children:s==null?void 0:s.destination})]}),e.jsxs("div",{className:"mb-4 grid grid-flow-col  align-middle",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Description :"}),e.jsx("p",{className:"text-base text-gray-600",children:s==null?void 0:s.description})]}),e.jsxs("div",{className:"mb-4 grid grid-flow-col  align-middle",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Address :"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-base text-gray-600",children:s==null?void 0:s.address.streetAddress}),e.jsx("p",{className:"text-base text-gray-600",children:s==null?void 0:s.address.landMark}),e.jsxs("p",{className:"text-base text-gray-600",children:[s==null?void 0:s.address.city,", ",s==null?void 0:s.address.district]}),e.jsxs("p",{className:"text-base text-gray-600",children:[s==null?void 0:s.address.country," - ",s==null?void 0:s.address.pincode]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Amenities"}),e.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s==null?void 0:s.amenities.map((u,v)=>e.jsx("li",{className:"text-base text-gray-600",children:u},v))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Property Rules"}),e.jsx("ul",{className:"list-disc pl-5",children:s==null?void 0:s.propertyRules.map((u,v)=>e.jsx("li",{className:"text-base text-gray-600",children:u},v))})]})]}),e.jsx("div",{className:"col-span-1 grid grid-cols-2 gap-4",children:s==null?void 0:s.imageUrls.map((u,v)=>e.jsxs("div",{className:"relative w-fit h-40",children:[e.jsx("img",{className:"w-full h-full object-cover rounded-lg",src:u,alt:`Hotel ${v+1}`}),e.jsx("button",{onClick:()=>i(u,`Hotel ${v+1}`),className:"absolute bottom-2 right-2 text-sm bg-blue-gray-200 text-black px-2 py-1 rounded-lg",children:"Show Preview"})]},v))}),e.jsxs("div",{className:"mb-4 col-span-2 grid grid-cols-2",children:[e.jsxs("div",{className:"mb-4 grid grid-flow-col  align-middle",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Owner Name :"}),e.jsx("p",{className:"text-base text-gray-600",children:(_=s==null?void 0:s.ownerId)==null?void 0:_.name})]}),e.jsxs("div",{className:"mb-4 grid grid-flow-col  align-middle",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"email:"}),e.jsx("p",{className:"text-base text-gray-600",children:(R=s==null?void 0:s.ownerId)==null?void 0:R.email})]})]}),e.jsxs("div",{className:"mb-4 col-span-2",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 py-2",children:"Room Details"}),e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{className:"bg-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Room"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Description"}),e.jsx("th",{className:"text-left py-3 px-4",children:"max Adults"}),e.jsx("th",{className:"text-left py-3 px-4",children:"max Children"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Price"})]})}),e.jsx("tbody",{children:s==null?void 0:s.rooms.map(u=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-3 px-4",children:u.title}),e.jsx("td",{className:"py-3 px-4",children:u.desc}),e.jsx("td",{className:"py-3 px-4",children:u.maxAdults}),e.jsx("td",{className:"py-3 px-4",children:u.maxChildren}),e.jsx("td",{className:"py-3 px-4",children:u.price})]}))})]})]}),e.jsx("h1",{className:"text-2xl col-span-2 p-3 font-bold",children:"Hotel Documents"}),e.jsx("div",{className:"col-span-2 grid grid-flow-col gap-4",children:e.jsxs("div",{className:"relative w-fit h-40",children:[e.jsx("img",{className:"w-full h-full object-cover rounded-lg",src:s==null?void 0:s.hotelDocument,alt:"Hotel Document"}),e.jsx("button",{onClick:()=>i(s==null?void 0:s.hotelDocument,"Hotel Document"),className:"absolute bottom-2 right-2 text-sm bg-blue-gray-200 text-black px-2 py-1 rounded-lg",children:"Show Preview"})]})}),e.jsx("h1",{className:"text-2xl col-span-2 p-3 font-bold",children:"Owner ID"}),e.jsx("div",{className:"col-span-2 grid grid-flow-col gap-4",children:e.jsxs("div",{className:"relative w-fit h-40",children:[e.jsx("img",{className:"w-full h-full object-cover rounded-lg",src:s==null?void 0:s.ownerPhoto,alt:"Owner ID"}),e.jsx("button",{onClick:()=>i(s==null?void 0:s.ownerPhoto,"Owner ID"),className:"absolute bottom-2 right-2 text-sm bg-blue-gray-200 text-black px-2 py-1 rounded-lg",children:"Show Preview"})]})}),s&&s.isVerified!=="pending"?e.jsxs(e.Fragment,{children:[s.isVerified==="verified"&&e.jsxs("div",{className:"flex justify-center col-span-2",children:[e.jsx(G,{size:60,color:"#15F5BA"}),e.jsx("span",{className:"text-green-400 pt-3 px-2 text-3xl",children:"Verified"})]}),s.isVerified==="rejected"&&e.jsx("div",{className:"flex justify-center col-span-2",children:e.jsx("img",{src:V,className:"h-20",alt:""})})]}):e.jsxs("div",{className:"col-span-2 flex justify-between px-40 py-5",children:[e.jsx("button",{onClick:r,className:"relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-teal-300 to-lime-300 group-hover:from-teal-300 group-hover:to-lime-300 dark:text-white dark:hover:text-gray-900 focus:ring-4 focus:outline-none focus:ring-lime-200 dark:focus:ring-lime-800",children:e.jsx("span",{className:"relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0",children:"Verify"})}),e.jsx("button",{onClick:()=>d(!0),className:"relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-pink-500 to-orange-400 group-hover:from-pink-500 group-hover:to-orange-400 dark:text-white dark:hover:text-gray-900 focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800",children:e.jsx("span",{className:"relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0",children:"Reject"})})]}),e.jsx(W,{isOpen:c,onClose:()=>m(!1),imageSrc:x,altText:g}),e.jsx(Z,{isOpen:l,onClose:()=>d(!1),onConfirm:w})]})},H=t=>b.get(t).then(s=>s.data),X=()=>{const{data:t,error:s}=k(`${j}/users`,H),{data:r,error:n}=k(`${j}/owners`,H),c=(t==null?void 0:t.users)||[],m=(r==null?void 0:r.users)||[];return{users:c,loadingUsers:!t&&!s,userError:s,owners:m,loadingOwners:!r&&!n,ownerError:n}},K=({_id:t,name:s,email:r,isBlocked:n})=>{const[c,m]=o.useState(n),l=()=>{m(!c);const d=`/block_user/${t}`;P.patch(j+d).catch(x=>console.log(x))};return e.jsxs(a.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(a.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:s}),e.jsx(a.Cell,{children:r}),e.jsx(a.Cell,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${c?"bg-red-500":"bg-green-400"}`}),e.jsx("p",{children:c?"Blocked":"Active"})]})}),e.jsx(a.Cell,{children:e.jsx("label",{className:"flex cursor-pointer select-none items-center ",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{title:"title",type:"checkbox",checked:c,onChange:l,className:"sr-only"}),e.jsx("div",{className:`box block h-6 w-10 rounded-full ${c?"bg-red-500":"bg-green-500"}`}),e.jsx("div",{className:`absolute left-1 top-1 flex h-4 w-4 items-center justify-center rounded-full bg-white transition ${c?"translate-x-full":""}`})]})})})]})},Q=()=>{const{owners:t}=X();return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(a,{children:[e.jsxs(a.Head,{children:[e.jsx(a.HeadCell,{children:"Name"}),e.jsx(a.HeadCell,{children:"Email"}),e.jsx(a.HeadCell,{children:"Status"}),e.jsx(a.HeadCell,{children:"Action"})]}),e.jsx(a.Body,{className:"divide-y",children:t.map(s=>o.createElement(K,{...s,type:"user",key:s._id}))})]})})},Y=({open:t,onClose:s,hotelId:r,ownerId:n,id:c})=>{console.log(r,"hotel",n,"owner",c,"idddd");const m=async(h,g)=>{var y,i;try{await b.patch(h),await l(g),s()}catch(w){f(((i=(y=w.response)==null?void 0:y.data)==null?void 0:i.message)||`Failed to ${g}`,"error")}},l=async h=>{var g,y;try{const i=await b.patch(`${j}/updateReporting/${c}`,{action:h});console.log(i.data),f(i.data.message,"success")}catch(i){f(((y=(g=i.response)==null?void 0:g.data)==null?void 0:y.message)||"Failed to update reporting","error")}},d=()=>m(`${j}/block_hotel/${r}`,"blocked Hotel"),x=()=>m(`${j}/block_user/${n}`,"blocked Owner");return e.jsxs(N.Dialog,{open:t,handler:s,animate:{mount:{scale:1,y:0},unmount:{scale:.9,y:-100}},children:[e.jsx(N.DialogHeader,{children:"Action Required"}),e.jsx(N.DialogBody,{children:"Please take an appropriate action on this report."}),e.jsxs(N.MenuItem,{className:"mb-4 flex items-center justify-center gap-3 !py-4 shadow-md",onClick:x,children:[e.jsx("img",{src:"https://docs.material-tailwind.com/icons/metamask.svg",alt:"metamask",className:"h-6 w-6"}),e.jsx(N.Typography,{className:"uppercase",color:"blue-gray",variant:"h6",children:"Block the Owner"})]}),e.jsxs(N.MenuItem,{className:"mb-1 flex items-center justify-center gap-3 !py-4 shadow-md",onClick:d,children:[e.jsx("img",{src:"https://docs.material-tailwind.com/icons/coinbase.svg",alt:"coinbase",className:"h-6 w-6 rounded-md"}),e.jsx(N.Typography,{className:"uppercase",color:"blue-gray",variant:"h6",children:"Block the Hotel"})]}),e.jsx(N.DialogFooter,{children:e.jsx(N.Button,{variant:"text",color:"red",onClick:s,className:"mr-1",children:e.jsx("span",{children:"Cancel"})})})]})},ee=t=>b.get(t).then(s=>s.data),se=()=>{const[t,s]=o.useState([]),[r,n]=o.useState(!0),[c,m]=o.useState(!1),[l,d]=o.useState(null),{data:x}=k(`${j}/reportings`,ee);o.useEffect(()=>{x&&s(x.result)},[x,r]);const h=i=>{d(i),m(!0)},g=()=>{m(!1),d(null)},y=async i=>{try{const w=await b.patch(`${j}/updateReporting/${i}`,{action:"rejected"});console.log(w.data),f(w.data.message,"success"),n(!r)}catch(w){f(w.response.data.message,"error")}};return console.log(l,"selected........."),e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Admin Reports"}),e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2",children:"Username"}),e.jsx("th",{className:"py-2",children:"Hotel Name"}),e.jsx("th",{className:"py-2",children:"Check In"}),e.jsx("th",{className:"py-2",children:"Check Out"}),e.jsx("th",{className:"py-2",children:"Reason"}),e.jsx("th",{className:"py-2",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(i=>e.jsxs("tr",{className:"text-center",children:[e.jsx("td",{className:"py-2",children:i.userId.name}),e.jsx("td",{className:"py-2",children:i.hotelId.name}),e.jsx("td",{className:"py-2",children:new Date(i.bookingId.checkInDate).toLocaleDateString()}),e.jsx("td",{className:"py-2",children:new Date(i.bookingId.checkOutDate).toLocaleDateString()}),e.jsx("td",{className:"py-2",children:i.reason}),e.jsx("td",{className:"py-2 flex justify-center gap-2",children:i.action==="pending"?e.jsxs(e.Fragment,{children:[e.jsx(N.Button,{onClick:()=>h(i),color:"green",variant:"gradient",children:"Take Action"}),e.jsx(N.Button,{onClick:()=>y(i._id),color:"red",variant:"gradient",children:"Reject"})]}):e.jsx("span",{className:"text-lg",children:i.action})})]},i.id))})]}),l&&e.jsx(Y,{open:c,onClose:g,hotelId:l.hotelId._id,ownerId:l.hotelId.ownerId,id:l._id})]})},te=({bookingId:t,userId:s,hotelId:r,bookingStatus:n,price:c,checkInDate:m,checkOutDate:l,paymentMethod:d})=>e.jsxs(a.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(a.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:t}),e.jsx(a.Cell,{children:s==null?void 0:s.name}),e.jsx(a.Cell,{children:r==null?void 0:r.name}),e.jsx(a.Cell,{children:new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),e.jsx(a.Cell,{children:new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),e.jsx(a.Cell,{children:n}),e.jsx(a.Cell,{children:d}),e.jsx(a.Cell,{children:c})]}),ae=t=>b.get(t).then(s=>s.data),le=()=>{const{data:t}=k(`${j}/bookings`,ae),[s,r]=o.useState(null);return o.useEffect(()=>{t&&r(t.result)},[t]),console.log(s,".................."),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(a,{children:[e.jsxs(a.Head,{children:[e.jsx(a.HeadCell,{children:"Booking Id"}),e.jsx(a.HeadCell,{children:"Name"}),e.jsx(a.HeadCell,{children:"Hotel"}),e.jsx(a.HeadCell,{children:"Check-In"}),e.jsx(a.HeadCell,{children:"Check-Out"}),e.jsx(a.HeadCell,{children:"Booking status"}),e.jsx(a.HeadCell,{children:"Payment status"}),e.jsx(a.HeadCell,{children:"Price"})]}),e.jsx(a.Body,{className:"divide-y",children:s&&(s==null?void 0:s.map(n=>e.jsx(te,{...n},n.bookingId)))})]})})},re=t=>b.get(t).then(s=>s.data),ne=()=>{const{data:t,error:s}=k(`${j}/stayTypes`,re),[r,n]=o.useState([]);o.useEffect(()=>{t&&n(t.data)},[t]);const c=async l=>{try{const d=await b.post(`${j}/stayTypeListing/${l}`);d.status===200?(n(x=>x.map(h=>h._id===l?{...h,isListed:!h.isListed}:h)),f(d.data.message,"success")):f(d.data.message,"error")}catch(d){console.error("Error updating stay type listing status:",d)}},m=async(l,{resetForm:d})=>{var x,h;try{const g=await b.post(`${j}/addStayType`,l);g.status===200?(n(y=>[...y,g.data.result]),f(g.data.message,"success"),d()):f(g.data.message,"error")}catch(g){f((h=(x=g==null?void 0:g.response)==null?void 0:x.data)==null?void 0:h.message,"error")}};return s?e.jsx("div",{children:"Error loading categories."}):t?e.jsxs("div",{className:"overflow-x-auto",children:[e.jsx(E,{initialValues:{name:""},validationSchema:U({name:F().required("Name is required").min(2,"Name must be at least 2 characters").max(50,"Name must be less than 50 characters")}),onSubmit:m,children:e.jsxs(B,{className:"flex mb-4",children:[e.jsx(T,{name:"name",type:"text",className:"w-60 block text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400"}),e.jsx(M,{name:"name",component:"div",className:"text-red-600"}),e.jsx("button",{type:"submit",className:"mb-2 text-sm font-medium bg-Marine_blue text-white flex justify-center align-middle rounded-md text-center px-3 py-2",children:"ADD"})]})}),r.length>0?e.jsxs(a,{children:[e.jsxs(a.Head,{children:[e.jsx(a.HeadCell,{children:"Name"}),e.jsx(a.HeadCell,{children:"Status"}),e.jsx(a.HeadCell,{children:"Action"})]}),e.jsx(a.Body,{className:"divide-y",children:r.map(l=>e.jsxs(a.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[e.jsx(a.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:l.name}),e.jsx(a.Cell,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${l.isListed?"bg-green-400":"bg-red-500"}`}),e.jsx("p",{children:l.isListed?"Listed":"Unlisted"})]})}),e.jsx(a.Cell,{children:e.jsx("label",{className:"flex cursor-pointer select-none items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{title:"title",type:"checkbox",checked:l.isListed,onChange:()=>c(l._id),className:"sr-only"}),e.jsx("div",{className:`box block h-6 w-10 rounded-full ${l.isListed?"bg-green-500":"bg-red-500"}`}),e.jsx("div",{className:`absolute left-1 top-1 flex h-4 w-4 items-center justify-center rounded-full bg-white transition ${l.isListed?"translate-x-full":""}`})]})})})]},l._id))})]}):e.jsx("div",{className:"text-center py-4",children:"No categories listed."})]}):e.jsx("div",{children:"Loading..."})},ie=o.lazy(()=>C(()=>import("./Users-D89BEXvG.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]))),ce=o.lazy(()=>C(()=>import("./Hotels-BDH2s-Z5.js"),__vite__mapDeps([18,1,2,3,4,5,6,8,9,12]))),de=o.lazy(()=>C(()=>import("./Login-Br43UEzE.js"),__vite__mapDeps([19,1,2,16,9,20,17,21]))),oe=o.lazy(()=>C(()=>import("./Layout-C2mmwPLC.js"),__vite__mapDeps([22,1,2,3,4,5,6,9,11]))),xe=o.lazy(()=>C(()=>import("./DashBoard-DIqx7bJw.js"),__vite__mapDeps([23,1,2,8,9,24,14,13,15,5,25]))),me=()=>e.jsxs(S,{children:[e.jsx(p,{path:"",element:e.jsx(A,{}),children:e.jsx(p,{path:"/login",element:e.jsx(de,{})})}),e.jsx(p,{path:"",element:e.jsx(I,{}),children:e.jsxs(p,{path:"/",element:e.jsx(oe,{}),children:[e.jsx(p,{index:!0,element:e.jsx(xe,{})}),e.jsx(p,{path:"/users",element:e.jsx(ie,{})}),e.jsx(p,{path:"/owners",element:e.jsx(Q,{})}),e.jsx(p,{path:"/hotels",element:e.jsx(ce,{})}),e.jsx(p,{path:"/hotel/:id",element:e.jsx(J,{})}),e.jsx(p,{path:"/reports",element:e.jsx(se,{})}),e.jsx(p,{path:"/bookings",element:e.jsx(le,{})}),e.jsx(p,{path:"/categories",element:e.jsx(ne,{})})]})}),e.jsx(p,{path:"*",element:e.jsx(O,{})})]}),ke=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"}));export{ke as A,K as U,X as u};
